{"version":3,"sources":["assets\\script\\CarControl.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CarControl extends cc.Component {\r\n\r\n    @property(cc.SpriteFrame)\r\n    up:cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    down:cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    left:cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    right:cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    die:cc.SpriteFrame = null;\r\n\r\n    // 血量\r\n    hp:number = 10;\r\n    // 速度\r\n    speed: number = 50;\r\n    // 输入轴\r\n    vertical: number = 0;\r\n    horizontal: number = 0;\r\n    // 精灵组件\r\n    sprite:cc.Sprite = null;\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        this.input();\r\n        // 获取精灵组件\r\n        this.sprite = this.getComponent(cc.Sprite);\r\n        // 开启碰撞监听\r\n        cc.director.getCollisionManager().enabled = true;\r\n    }\r\n\r\n    update (dt) {\r\n        // 水平方向\r\n        this.node.x += this.speed * dt * this.horizontal;\r\n        // 垂直方向\r\n        this.node.y += this.speed * dt * this.vertical;\r\n    }\r\n\r\n    // 碰撞监听\r\n    onCollisionEnter(){\r\n        // 碰上就死亡\r\n        this.sprite.spriteFrame = this.die;\r\n        // 碰上掉血\r\n        this.hp -= 5;\r\n    }\r\n\r\n    input() {\r\n        // 按键\r\n        // 按下\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, (event) => {\r\n            // 判断是否已经死亡\r\n            if(this.hp <= 0){\r\n                this.vertical = 0;\r\n                this.horizontal = 0;\r\n                return;\r\n            }\r\n            if (event.keyCode == cc.macro.KEY.w) {\r\n                console.log('----------- w -----------');\r\n                this.vertical = 1;\r\n                // 上的图片\r\n                this.sprite.spriteFrame = this.up;\r\n            }\r\n            if (event.keyCode == cc.macro.KEY.s) {\r\n                console.log('----------- s -----------');\r\n                this.vertical = -1;\r\n                this.sprite.spriteFrame = this.down;\r\n            }\r\n            if (event.keyCode == cc.macro.KEY.a) {\r\n                console.log('----------- a -----------');\r\n                this.horizontal = -1;\r\n                this.sprite.spriteFrame = this.left;\r\n            }\r\n            if (event.keyCode == cc.macro.KEY.d) {\r\n                console.log('----------- d -----------');\r\n                this.horizontal = 1;\r\n                this.sprite.spriteFrame = this.right;\r\n            }\r\n        })\r\n        // 抬起\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, (event) => {\r\n            if (event.keyCode == cc.macro.KEY.w && this.vertical == 1) {\r\n                console.log('up----------- w -----------');\r\n                this.vertical = 0;\r\n            }\r\n            if (event.keyCode == cc.macro.KEY.s && this.vertical == -1) {\r\n                console.log('up----------- s -----------');\r\n                this.vertical = 0;\r\n            }\r\n            if (event.keyCode == cc.macro.KEY.a && this.horizontal == -1) {\r\n                console.log('up----------- a -----------');\r\n                this.horizontal = 0;\r\n            }\r\n            if (event.keyCode == cc.macro.KEY.d && this.horizontal == 1) {\r\n                console.log('up----------- d -----------');\r\n                this.horizontal = 0;\r\n            }\r\n        })\r\n    }\r\n}\r\n"]}